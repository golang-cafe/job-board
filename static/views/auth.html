<!DOCTYPE html>
<html lang="en">

<head>
    <title>{{ .SiteName }} Authentication</title>
    <link href="/x/s/m/{{ .SiteLogoImageID }}?w=50&h=50" rel="shortcut icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="{{ .SiteName }} Authentication">
    <meta itemprop="name" content="{{ .SiteName }} Authentication">
    <meta itemprop="description" content="{{ .SiteName }} Authentication">
    <meta itemprop="image" content="https://{{ .SiteHost }}/x/s/m/{{ .SiteLogoImageID }}">
    <style>
        body {
            background: #ffffff;
        }

        input,
        textarea,
        select,
        button,
        option,
        html,
        body {
            font-family: Helvetica;
            font-size: 18px;
            font-stretch: normal;
            font-style: normal;
            font-weight: 400;
            line-height: 29.7px
        }

        input,
        textarea,
        select,
        button,
        option,
        html,
        body {
            font-family: Helvetica;
            font-size: 18px;
            font-stretch: normal;
            font-style: normal;
            font-weight: 400;
            line-height: 29.7px
        }

        th {
            font-weight: 600
        }

        td,
        th {
            border-bottom: 1.08px solid #595959;
            overflow: auto;
            padding: 14.85px 18px;
            text-align: left;
            vertical-align: top
        }

        thead th {
            border-bottom-width: 2.16px;
            padding-bottom: 6.3px
        }

        table {
            display: table;
            overflow-x: auto
        }

        input,
        textarea,
        select,
        button,
        option,
        html,
        body {
            font-family: Helvetica;
            font-size: 18px;
            font-stretch: normal;
            font-style: normal;
            font-weight: 400;
            line-height: 29.7px
        }

        fieldset {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap
        }

        fieldset legend {
            margin: 18px 0
        }

        input,
        textarea,
        select,
        button {
            border-radius: 3.6px;
            display: inline-block;
            padding: 9.9px
        }

        input+label,
        input+input[type="checkbox"],
        input+input[type="radio"],
        textarea+label,
        textarea+input[type="checkbox"],
        textarea+input[type="radio"],
        select+label,
        select+input[type="checkbox"],
        select+input[type="radio"],
        button+label,
        button+input[type="checkbox"],
        button+input[type="radio"] {
            page-break-before: always
        }

        input,
        select,
        label {
            margin-right: 3.6px
        }

        textarea {
            min-height: 90px;
            min-width: 360px
        }

        label {
            display: inline-block;
            margin-bottom: 12.6px
        }

        label+* {
            page-break-before: always
        }

        label>input {
            margin-bottom: 0
        }

        input[type="submit"],
        input[type="reset"],
        button {
            background: #f2f2f2;
            color: #191919;
            cursor: pointer;
            display: inline;
            margin-bottom: 18px;
            margin-right: 7.2px;
            padding: 6.525px 23.4px;
            text-align: center
        }

        input[type="submit"]:hover,
        input[type="reset"]:hover,
        button:hover {
            background: #d9d9d9;
            color: #000
        }

        input[type="submit"][disabled],
        input[type="reset"][disabled],
        button[disabled] {
            background: #e6e5e5;
            color: #403f3f;
            cursor: not-allowed
        }

        input[type="submit"],
        button[type="submit"] {
            background: {{ .PrimaryColor }};
            color:#fff;
        }

        input[type="submit"]:hover,
        button[type="submit"]:hover {
            background: {{ .SecondaryColor }};
            color:#ffffff;
        }

        input,
        select,
        textarea {
            margin-bottom: 18px
        }

        input[type="text"],
        input[type="password"],
        input[type="email"],
        input[type="url"],
        input[type="phone"],
        input[type="tel"],
        input[type="number"],
        input[type="datetime"],
        input[type="date"],
        input[type="month"],
        input[type="week"],
        input[type="color"],
        input[type="time"],
        input[type="search"],
        input[type="range"],
        input[type="file"],
        input[type="datetime-local"],
        select,
        textarea {
            border: 1px solid #595959;
            padding: 5.4px 6.3px
        }

        input[type="checkbox"],
        input[type="radio"] {
            flex-grow: 0;
            height: 29.7px;
            margin-left: 0;
            margin-right: 9px;
            vertical-align: middle
        }

        input[type="checkbox"]+label,
        input[type="radio"]+label {
            page-break-before: avoid
        }

        select[multiple] {
            min-width: 270px
        }

        input,
        textarea,
        select,
        button,
        option,
        html,
        body {
            font-family: Helvetica;
            font-size: 18px;
            font-stretch: normal;
            font-style: normal;
            font-weight: 400;
            line-height: 29.7px
        }

        pre,
        code,
        kbd,
        samp,
        var,
        output {
            font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
            font-size: 14.4px
        }

        pre {
            border-left: 1.8px solid #59c072;
            line-height: 25.2px;
            overflow: auto;
            padding-left: 18px
        }

        pre code {
            background: none;
            border: 0;
            line-height: 29.7px;
            padding: 0
        }

        code,
        kbd {
            background: #daf1e0;
            border-radius: 3.6px;
            color: #2a6f3b;
            display: inline-block;
            line-height: 18px;
            padding: 3.6px 6.3px 2.7px
        }

        kbd {
            background: #2a6f3b;
            color: #fff
        }

        mark {
            background: #ffc;
            padding: 0 3.6px
        }

        input,
        textarea,
        select,
        button,
        option,
        html,
        body {
            font-family: Helvetica;
            font-size: 18px;
            font-stretch: normal;
            font-style: normal;
            font-weight: 400;
            line-height: 29.7px
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            color: #000;
            margin-bottom: 18px
        }

        h1 {
            font-size: 36px;
            font-weight: 500;
            line-height: 41.4px;
            margin-top: 72px
        }

        h2 {
            font-size: 25.2px;
            font-weight: 400;
            line-height: 30.6px;
            margin-top: 54px
        }

        h3 {
            font-size: 21.6px;
            line-height: 27px;
            margin-top: 36px
        }

        h4 {
            font-size: 18px;
            line-height: 23.4px;
            margin-top: 18px
        }

        h5 {
            font-size: 14.4px;
            font-weight: bold;
            line-height: 21.6px;
            text-transform: uppercase
        }

        h6 {
            color: #595959;
            font-size: 14.4px;
            font-weight: bold;
            line-height: 18px;
            text-transform: uppercase
        }

        input,
        textarea,
        select,
        button,
        option,
        html,
        body {
            font-family: Helvetica;
            font-size: 18px;
            font-stretch: normal;
            font-style: normal;
            font-weight: 400;
            line-height: 29.7px
        }

        a {
            color: {{ .PrimaryColor }};
            text-decoration:none
        }

        a:hover {
            text-decoration: underline
        }

        hr {
            border-bottom: 1px solid #595959
        }

        figcaption,
        small {
            font-size: 15.3px
        }

        figcaption {
            color: #595959
        }

        var,
        em,
        i {
            font-style: italic
        }

        dt,
        strong,
        b {
            font-weight: 600
        }

        del,
        s {
            text-decoration: line-through
        }

        ins,
        u {
            text-decoration: underline
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        * {
            border: 0;
            border-collapse: separate;
            border-spacing: 0;
            box-sizing: border-box;
            margin: 0;
            max-width: 100%;
            outline: 0;
            padding: 0;
            vertical-align: baseline
        }

        html,
        body {
            width: 100%
        }

        html {
            height: 100%
        }

        body {
            color: #1a1919;
        }

        p,
        ul,
        ol,
        dl,
        blockquote,
        hr,
        pre,
        table,
        form,
        fieldset,
        figure,
        address {
            margin-bottom: 29.7px
        }

        section {
            margin-left: auto;
            margin-right: auto;
            width: 780px
        }

        article,
        header,
        footer {
            padding: 43.2px
        }

        article {
            word-wrap: break-word;
            background: #fff;
            border: 1px solid #d9d9d9;
            border-radius: 7.2px
        }

        nav {
            text-align: center
        }

        nav ul {
            list-style: none;
            margin-left: 0;
            text-align: center
        }

        nav ul li {
            display: inline-block;
            margin-left: 9px;
            margin-right: 9px;
            vertical-align: middle
        }

        nav ul li:last-child {
            margin-right: 0
        }

        ol,
        ul {
            margin-left: 31.5px
        }

        li dl,
        li ol,
        li ul {
            margin-bottom: 0
        }

        dl {
            display: inline-block
        }

        dt {
            padding: 0 18px
        }

        dd {
            padding: 0 18px 4.5px
        }

        dd:last-of-type {
            border-bottom: 1.08px solid #595959
        }

        dd+dt {
            border-top: 1.08px solid #595959;
            padding-top: 9px
        }

        blockquote {
            border-left: 2.16px solid #595959;
            padding: 4.5px 18px 4.5px 15.84px
        }

        blockquote footer {
            color: #595959;
            font-size: 13.5px;
            margin: 0
        }

        blockquote p {
            margin-bottom: 0
        }

        img {
            height: auto;
            margin: 0 auto
        }

        figure img {
            display: block
        }

        /*# sourceMappingURL=tacit-css-1.3.2.min.css.map */
        #search-location,
        #search-tag {
            border: 1px solid #d9d9d9
        }

        #search-tag {
            width: 35%
        }

        #search-location {
            width: 35%
        }

        #search-btn {
            width: 25%;
            margin-right: 0;
            float: right;
            padding: 5.53px 10px;
            border:1px solid {{ .PrimaryColor }};
        }

        #post-btn {
            width: auto;
            float: right;
            margin-right: 0;
            padding-right: 25px;
            padding-left: 25px;
        }

        @media only screen and (max-width:768px) {
            .menu-header a { font-size: 9pt !important; }
            #search-location,
            #search-tag {
                width: 100%;
                border: 1px solid #d9d9d9
            }

            #search-btn {
                width: 100%;
                margin-right: 0;
                margin-bottom: 20px;
                float: initial;
            }

            #post-btn {
                width: auto;
            }
        }

        .line-item {
            background: #fff;
            padding: 20px;
            margin: 10px auto;
        }

        input {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .job-desc {
            padding: 0px 0px 50px 0px;
            font-size: 12pt;
            display: none;
        }

        .job-desc>h3 {
            margin-top: 10px;
        }

        a:hover {
            cursor: pointer;
        }

        .main-title {
            font-weight: bold;
            margin: 0 0 auto;
            width: 80%;
            color: {{ .PrimaryColor }};
        }

        .overlay-effect {
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 99999
        }

        .spinner-box {
            z-index: 999999;
            width: 124px;
            padding: 30px;
            height: auto;
            position: fixed;
            margin: 5% auto;
            top: 40px;
            left: 0;
            right: 0;
            background: #fff;
        }

        .lds-ring {
            display: inline-block;
            position: relative;
            width: 64px;
            height: 64px;
        }

        .lds-ring div {
            box-sizing: border-box;
            display: block;
            position: absolute;
            width: 51px;
            height: 51px;
            margin: 6px;
            border: 6px solid #000;
            border-radius: 50%;
            animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
            border-color: #000 transparent transparent transparent;
        }

        .lds-ring div:nth-child(1) {
            animation-delay: -0.45s;
        }

        .lds-ring div:nth-child(2) {
            animation-delay: -0.3s;
        }

        .lds-ring div:nth-child(3) {
            animation-delay: -0.15s;
        }

        @keyframes lds-ring {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        #spinner-0 {
            display: none;
        }

        .clearfix::after {
            content: "";
            clear: both;
            display: table;
        }

        footer {
            padding: 10px;
            width: 780px;
            margin: auto;
        }

        .subnav {
            width: 100%;
            text-align: left;
            float: left;
            font-size: 12pt;
        }

        .subnav ul {
            text-align: left;
        }

        .subnav ul li {
            width: 90%;
        }

        @media only screen and (max-witdh: 768px) {
            .subnav ul li {
                width: 100%;
            }
        }
		.menu-header {
			text-align: left;
			width: 100%;
			margin: 20px auto;
			border-bottom: 1px solid #d9d9d9;
		}

		.menu-header a {
			white-space: pre;
			color: black;
			font-size: 12pt;
			font-weight: bold;
			padding-right: 5px;
		}

		header {
			padding: 0 10px;
			width: 780px;
			margin: auto;
		}
        .hover-pointer{cursor: pointer;}
    </style>
    <script defer data-domain="golang.cafe" src="https://scalajobs.com/js/index.js"></script>
    {{ template "google-analytics" }}
</head>

<body>
    <div id="spinner-0">
        <div class="overlay-effect"></div>
        <div class="spinner-box">
            <div class="lds-ring">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>
    {{ template "header-html" . }}
    <section style="padding: 10px;">
        <article>
            <h1 style="margin-top:0;">Login to your {{ .SiteName }} account</h1>
            <p style="margin-top: 20px;">Use your account email to receive a sign-in token. If you haven't registered already you can <a href="/Join-{{ .SiteJobCategory }}-Community">sign-up for free</a></p>
                <div style="width: 100%;">
                <input type="email" name="email" id="email" {{ if .DefaultEmail }}value="{{ .DefaultEmail }}"{{ end }} class="email-subscribe-item"
                    style="border: 1px solid #d9d9d9;margin:10px auto;display:block;width:300px;" placeholder="Email Address">
                <div style="width:100%;">
                <input type="submit" onclick="auth()" class="email-subscribe-item" value="Send Magic Link"
                    style="margin:0 auto;display:block;width:300px;"></duv>
        </article>
    </section>
    <footer>
        <h4 style="margin-left: 9px;">{{ .SiteName }}</h4>
        <nav class="subnav">
            <ul>
                <li><a href="/">Jobs</a></li>
                <li><a target="_blank" rel="noopener" href="https://twitter.com/{{ .SiteTwitter }}">{{ .SiteName }} on
                        Twitter</a></li>
                <li><a target="_blank" rel="noopener" href="https://github.com/{{ .SiteGithub }}">{{ .SiteName }} on
                        GitHub</a></li>
                <li><a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCq4YrlwwXwF74Z3g-VDae2w">{{ .SiteName }} YouTube Channel</a></li>
                <li><a href="/rss">{{ .SiteName }} RSS Feed</a></li>
                <li><a href="/support">Support</a></li>
                <li><a href="/about">About {{ .SiteName }}</a></li>
                <li><a href="/terms-of-service">T&Cs</a></li>
                <li><a href="/privacy-policy">Privacy Policy</a></li>
            </ul>
        </nav>
    </footer>
    <script>
        function isEmail(email) {
            var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(email);
        }
        function empty() {
            var isThere = true;
            for (var i = 0; i < arguments.length; i++) {
                isThere &= typeof arguments[i] === "undefined" ? false : arguments[i].trim() !== "";
            }
            return !isThere;
        };
        var post = function (body, cb) {
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/x/auth/link', true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.send(JSON.stringify(body));
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    cb(xhr.status, xhr.response);
                }
            }
        };
        function auth() {
            document.getElementById("spinner-0").style.display = "block";
            var email = document.getElementById("email").value;
            if (empty(email) || !isEmail(email)) {
                alert("Please provide a valid email address");
                document.getElementById("spinner-0").style.display = "none";
                return;
            }
            post({ email: email }, function (status) {
                document.getElementById("spinner-0").style.display = "none";
                switch(status) {
                    case 200:
                        alert("Check your inbox");
                        document.getElementById("email").value = "";
                        break;
                    case 429:
                        alert("Please try again later, you sent too many login requests")
                        break;
                    default:
                        alert('Oops, this email looks incorrect');
                }
            });
        }
        document
            .getElementById('email')
            .addEventListener('keyup', function (event) {
                event.preventDefault();
                if (event.keyCode !== 13) {
                    return;
                }
                auth();
            });
        function checkPaymentStatus() {
          const urlParams = new URLSearchParams(window.location.search);
          const paymentValue = urlParams.get('payment');
          
          if (paymentValue === '1') {
            alert('Your payment was successful, please confirm your profile by signing-in on this page and access your account.');
          } else if (paymentValue === '0') {
            alert('Your account has been created successfully, but we could not process your payment. Please sign-in to your account and try your payment again.');
          }
        }
        
        window.addEventListener('load', checkPaymentStatus);
    </script>
</body>
</html>
