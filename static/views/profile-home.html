<!DOCTYPE html>
<html lang="en">
  <head>
    <title>{{ .SiteName }} Profile Home</title>
    <link href="/x/s/m/{{ .SiteLogoImageID }}?w=50&h=50" rel="shortcut icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="{{ .SiteName }} Profile Home">
    <meta name="description" content="{{ .SiteName }} Profile Home">
    <style>
body{background:#ffffff;}
    input,textarea,select,button,option,html,body{font-family:Helvetica;font-size:18px;font-stretch:normal;font-style:normal;font-weight:400;line-height:29.7px}input,textarea,select,button,option,html,body{font-family:Helvetica;font-size:18px;font-stretch:normal;font-style:normal;font-weight:400;line-height:29.7px}th{font-weight:600}td,th{border-bottom:1.08px solid #595959;overflow:auto;padding:14.85px 18px;text-align:left;vertical-align:top}thead th{border-bottom-width:2.16px;padding-bottom:6.3px}table{display:table;overflow-x:auto}input,textarea,select,button,option,html,body{font-family:Helvetica;font-size:18px;font-stretch:normal;font-style:normal;font-weight:400;line-height:29.7px}fieldset{display:flex;flex-direction:row;flex-wrap:wrap}fieldset legend{margin:18px 0}input,textarea,select,button{border-radius:3.6px;display:inline-block;padding:9.9px}input+label,input+input[type="checkbox"],input+input[type="radio"],textarea+label,textarea+input[type="checkbox"],textarea+input[type="radio"],select+label,select+input[type="checkbox"],select+input[type="radio"],button+label,button+input[type="checkbox"],button+input[type="radio"]{page-break-before:always}input,select,label{margin-right:3.6px}textarea{min-height:90px;min-width:360px}label{display:inline-block;margin-bottom:12.6px}label+*{page-break-before:always}label>input{margin-bottom:0}input[type="submit"],input[type="reset"],button{background:#f2f2f2;color:#191919;cursor:pointer;display:inline;margin-bottom:18px;margin-right:7.2px;padding:6.525px 23.4px;text-align:center}input[type="submit"]:hover,input[type="reset"]:hover,button:hover{background:#d9d9d9;color:#000}input[type="submit"][disabled],input[type="reset"][disabled],button[disabled]{background:#e6e5e5;color:#403f3f;cursor:not-allowed}input[type="submit"],button[type="submit"]{background:{{ .PrimaryColor }};color:#fff}input[type="submit"]:hover,button[type="submit"]:hover{background:{{ .SecondaryColor }};color:#ffffff}input,select,textarea{margin-bottom:18px}input[type="text"],input[type="password"],input[type="email"],input[type="url"],input[type="phone"],input[type="tel"],input[type="number"],input[type="datetime"],input[type="date"],input[type="month"],input[type="week"],input[type="color"],input[type="time"],input[type="search"],input[type="range"],input[type="file"],input[type="datetime-local"],select,textarea{border:1px solid #595959;padding:5.4px 6.3px}input[type="checkbox"],input[type="radio"]{flex-grow:0;height:29.7px;margin-left:0;margin-right:9px;vertical-align:middle}input[type="checkbox"]+label,input[type="radio"]+label{page-break-before:avoid}select[multiple]{min-width:270px}input,textarea,select,button,option,html,body{font-family:Helvetica;font-size:18px;font-stretch:normal;font-style:normal;font-weight:400;line-height:29.7px}pre,code,kbd,samp,var,output{font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:14.4px}pre{border-left:1.8px solid #59c072;line-height:25.2px;overflow:auto;padding-left:18px}pre code{background:none;border:0;line-height:29.7px;padding:0}code,kbd{background:#daf1e0;border-radius:3.6px;color:#2a6f3b;display:inline-block;line-height:18px;padding:3.6px 6.3px 2.7px}kbd{background:#2a6f3b;color:#fff}mark{background:#ffc;padding:0 3.6px}input,textarea,select,button,option,html,body{font-family:Helvetica;font-size:18px;font-stretch:normal;font-style:normal;font-weight:400;line-height:29.7px}h1,h2,h3,h4,h5,h6{color:#000;margin-bottom:18px}h1{font-size:36px;font-weight:500;line-height:41.4px;margin-top:72px}h2{font-size:25.2px;font-weight:400;line-height:30.6px;margin-top:54px}h3{font-size:21.6px;line-height:27px;margin-top:36px}h4{font-size:18px;line-height:23.4px;margin-top:18px}h5{font-size:14.4px;font-weight:bold;line-height:21.6px;text-transform:uppercase}h6{color:#595959;font-size:14.4px;font-weight:bold;line-height:18px;text-transform:uppercase}input,textarea,select,button,option,html,body{font-family:Helvetica;font-size:18px;font-stretch:normal;font-style:normal;font-weight:400;line-height:29.7px}a{color:{{ .PrimaryColor }};text-decoration:none}a:hover{text-decoration:underline}hr{border-bottom:1px solid #595959}figcaption,small{font-size:15.3px}figcaption{color:#595959}var,em,i{font-style:italic}dt,strong,b{font-weight:600}del,s{text-decoration:line-through}ins,u{text-decoration:underline}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}*{border:0;border-collapse:separate;border-spacing:0;box-sizing:border-box;margin:0;max-width:100%;outline:0;padding:0;vertical-align:baseline}html,body{width:100%}html{height:100%}body{color:#1a1919;}p,ul,ol,dl,blockquote,hr,pre,table,form,fieldset,figure,address{margin-bottom:29.7px}section{margin-left:auto;margin-right:auto;width:780px}article,header,footer{padding:43.2px}article{word-wrap: break-word;background:#fff;border:1px solid #d9d9d9;border-radius:7.2px}nav{text-align:center}nav ul{list-style:none;margin-left:0;text-align:center}nav ul li{display:inline-block;margin-left:9px;margin-right:9px;vertical-align:middle}nav ul li:last-child{margin-right:0}ol,ul{margin-left:31.5px}li dl,li ol,li ul{margin-bottom:0}dl{display:inline-block}dt{padding:0 18px}dd{padding:0 18px 4.5px}dd:last-of-type{border-bottom:1.08px solid #595959}dd+dt{border-top:1.08px solid #595959;padding-top:9px}blockquote{border-left:2.16px solid #595959;padding:4.5px 18px 4.5px 15.84px}blockquote footer{color:#595959;font-size:13.5px;margin:0}blockquote p{margin-bottom:0}img{height:auto;margin:0 auto}figure img{display:block}/*# sourceMappingURL=tacit-css-1.3.2.min.css.map */
    #search-location,#search-tag{border:1px solid #d9d9d9}#search-tag{width:35%}#search-location{width:35%}#search-btn{width:25%;margin-right:0;float:right;padding:5.53px 10px;border:1px solid {{ .PrimaryColor }};}#post-btn{width:auto;float:right;margin-right:0;padding-right:25px;padding-left: 25px;}@media only screen and (max-width:768px){#search-location,#search-tag{width:100%;border:1px solid #d9d9d9}#search-btn{width:100%;margin-right:0;margin-bottom:20px;float:initial;}#post-btn{width: auto;}}
    .line-item {background:#fff;padding:20px;margin:10px auto;}input{-webkit-appearance: none;-moz-appearance: none;appearance: none;}
    .job-desc {padding:0px 0px 50px 0px;font-size:12pt;display:none;}.job-desc>h3{margin-top:10px;}
    a:hover{cursor:pointer;}.main-title{font-weight: bold;margin: 0 0 auto;width:80%;color:{{ .PrimaryColor }};}
    .line-item-sponsored-1 {border-radius: 8px;background-color: #fff9c9;}@media only screen and (max-width: 768px) {.email-subscribe-item{margin-top:15px;margin-bottom: 0;}}
    .menu-header{text-align:left;width: 100%;margin:20px auto;border-bottom:1px solid #d9d9d9;}.menu-header a {white-space:pre;color: black;font-size: 12pt;font-weight: bold;padding-right: 5px;}header{padding:0 10px;width:780px;margin:auto;}
    .overlay-effect {display: block;width: 100%; height: 100%; position: fixed; top: 0; left: 0;background: rgba(0, 0, 0,0.5);z-index: 99999}
    .spinner-box {z-index: 999999;width: 124px; padding: 30px; height: auto;position: fixed;margin: 5% auto; top: 40px; left: 0; right: 0;background: #fff;}
    .lds-ring {display: inline-block; position: relative; width: 64px; height: 64px;}.lds-ring div {box-sizing: border-box; display: block; position: absolute; width: 51px; height: 51px; margin: 6px; border: 6px solid #000; border-radius: 50%; animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite; border-color: #000 transparent transparent transparent;}
    .lds-ring div:nth-child(1) {animation-delay: -0.45s;}.lds-ring div:nth-child(2) {animation-delay: -0.3s;}.lds-ring div:nth-child(3) {animation-delay: -0.15s;}
    @keyframes lds-ring {0% {transform: rotate(0deg);} 100% {transform: rotate(360deg);}}#spinner-0{display: none;}
    .apply-box {z-index: 100000;display: none;width: 50%; height: auto;position: fixed;margin: 5% auto; top: 40px; left: 0; right: 0;background: #fff;}@media only screen and (max-width: 768px) {.apply-box{width: 90%;}}
    footer{padding:10px;width:780px;margin:auto;}.subnav{width: 100%;text-align: left;float: left;font-size: 12pt;}.subnav ul {text-align:left;}.subnav ul li {width:90%;} 
    .clearfix::after {
			content: "";
			clear: both;
			display: table;
		}
  		@media only screen and (max-width: 768px) {
		    .plan-container {width: 100% !important; margin-bottom: 10px;}
			.subnav ul li {
				width: 100%;
			}
		}
          .plan-container {
                  width: 28%;
              }
    </style>
    {{ if (eq .UserType "recruiter") and (isTimeBeforeNow .Recruiter.PlanExpiredAt) }}
    <script src="https://js.stripe.com/v3/"></script>
    {{ end }}
    {{ template "google-analytics" }}
  </head>
  <body>
    <header>
      <nav class="menu-header">
        <div style="float: left;">
          <small>
            <a href="/">Jobs</a>&bull;
            <a href="/{{ .SiteJobCategoryURLEncoded }}-Developer-Salary-Remote">Salaries</a>&bull;
            <a href="/Companies-Using-{{ .SiteJobCategoryURLEncoded }}">Companies</a>&bull;
            <a href="/{{ .SiteJobCategoryURLEncoded }}-Developers">Developers</a>
            <br>
          </small>
        </div>
        <div style="float: right;">
          {{ if .LoggedUser }}<a style="text-decoration: underline;" href="/profile/home">Your Profile</a>{{ else }}<a href="/auth">Login</a>{{ end }}
        </div>
        <div style="clear: both;"></div>
      </nav>
    </header>
    <div id="spinner-0">
		<div class="overlay-effect"></div>
		<div class="spinner-box">
			<div class="lds-ring">
				<div></div>
				<div></div>
				<div></div>
				<div></div>
			</div>
		</div>
	</div>
    <section style="margin: 30px auto;">
            <article>
              <h1>{{ .SiteName }} User Account</h1>
	      <p>This is your account information</p>
	      <ul>
		      <li><b>Account ID:</b> {{ .UserID }}</li>
		      <li><b>Account Email:</b> {{ .UserEmail }}</li>
		      <li><b>Account Created At:</b> {{ .UserCreatedAt.Format "Jan 02, 2006 15:04:05 UTC" }}</li>
		      <li><b>Account Type:</b> {{ .UserType }}</li>
			  {{ if eq .UserType "recruiter" }}
			  <li><b>Subscription:</b> {{ if isTimeBeforeNow .Recruiter.PlanExpiredAt }}Your Developer Director Access Has Expired on {{ .Recruiter.PlanExpiredAt.Format "Jan 02, 2006 15:04:05 UTC" }}. Please continue below to renew your access.{{ else }}{{ .Recruiter.PlanExpiredAt.Format "Jan 02, 2006 15:04:05 UTC" }}{{ end }}</li>
		  </ul>
			  {{ if isTimeBeforeNow .Recruiter.PlanExpiredAt }}
			  <h2>Your Developers Directory Access Has Expired</h2>
			  <div style="margin-bottom:20px;">
					Please choose one of the options below. You will only be billed once. This is not a subscription. Consider choosing a longer plan to lock in a lower price.
					</div>
                <div style="width:100%;margin-bottom: 30px;">
                    <article class="plan-container" style="padding:20px 10px;height: auto;margin-right:5%;float:left;">
                        <h2 style="margin-top:0;text-align:center;">3 Months</h2>
                        <input type="hidden" id="plan-1-item-price" value="{{ .DevDirectoryPlan1IDPrice }}">
                        <p style="font-size:9pt;line-height:1rem;text-align:center;">
                            The 3 Months plan is ideal if you are just starting out on {{ .SiteName }}.</p>
                        <h4 id="plan-1-label-price" style="margin-bottom:5px;text-align:center;margin-top:10px;font-size:20pt;">US${{ mul .DevDirectoryPlan1IDPrice 3 }}</h4>
                        <div style="margin-bottom: 20px;text-align:center;font-size:12pt;">US${{ .DevDirectoryPlan1IDPrice }} a month</div>
                        <input type="submit" id="submit" value="Buy Now" onclick="post(3);" style="width:100%;">
                        <ul style="margin-top:20px;font-size: 10pt;">
                            <li>3 Months unlimited access to the directory</li>
                            <li>No retainer fees</li>
                            <li>Unlimited messages and searches</li>
                            <li>Access to hourly rates & LinkedIn profiles</li>
                            <li>Business hours Mon-Fri email customer support</li>
                        </ul>
                    </article>
                    <article class="plan-container" style="padding:20px 10px;height: auto;margin-right:5%;float:left;">
                        <h2 style="margin-top:0;text-align:center;">6 Months</h2>
                        <input type="hidden" id="plan-2-item-price" value="{{ .DevDirectoryPlan2IDPrice }}">
                        <p style="font-size:9pt;line-height:1rem;text-align:center;">
                            The 6 Months plan it's the most popular chosen by recruiters on {{ .SiteName }}.</p>
                        <h4 id="plan-2-label-price" style="margin-bottom:5px;text-align:center;margin-top:10px;font-size:20pt;">US${{ mul .DevDirectoryPlan2IDPrice 6 }}</h4>
                        <div style="margin-bottom: 20px;text-align:center;font-size:12pt;">US${{ .DevDirectoryPlan2IDPrice }} a month</div>
                        <input type="submit" id="submit" value="Buy Now" onclick="post(6);" style="width:100%;">
                        <ul style="margin-top:20px;font-size: 10pt;">
                            <li>6 Months unlimited access to the directory</li>
                            <li>No retainer fees</li>
                            <li>Unlimited messages and searches</li>
                            <li>Access to hourly rates & LinkedIn profiles</li>
                            <li>Get notified when new developers sign-up</li>
                            <li>Priority 24/7 email customer support</li>
                        </ul>
                    </article>
                    <article class="plan-container" style="padding:20px 10px;height: auto;margin-right:5%;float:left;">
                        <h2 style="margin-top:0;text-align:center;">12 Months</h2>
                        <input type="hidden" id="plan-3-item-price" value="{{ .DevDirectoryPlan3IDPrice }}">
                        <p style="font-size:9pt;line-height:1rem;text-align:center;">
                            The 12 Months plan it's the best plan if you need to hire all-year around</p>
                        <h4 id="plan-3-label-price" style="margin-bottom:5px;text-align:center;margin-top:10px;font-size:20pt;">US${{ mul .DevDirectoryPlan3IDPrice 12 }}</h4>
                        <div style="margin-bottom: 20px;text-align:center;font-size:12pt;">US${{ .DevDirectoryPlan3IDPrice }} a month</div>
                        <input type="submit" id="submit" value="Buy Now" onclick="post(12);" style="width:100%;">
                        <ul style="margin-top:20px;font-size: 10pt;">
                            <li>12 Months unlimited access to the directory</li>
                            <li>No retainer fees</li>
                            <li>Unlimited messages and searches</li>
                            <li>Access to hourly rates & LinkedIn profiles</li>
                            <li>Get notified when new developers sign-up</li>
                            <li>Priority 24/7 email customer support</li>
                        </ul>
                    </article>
                </div>
                <div class="clearfix"></div>
				<p style="line-height:1rem;float:left;width:50%;text-align:left;font-size:9pt;margin-bottom:0px;margin-top:10px;">This is not a subscription. You will only be charged once. By continuing you accept the <a href="/terms-of-service" target="_blank">Terms of Service</a></p>
                <div class="clearfix"></div>
                <br>
			  {{ end }}
			  {{ end }}
	  {{ if eq .UserType "developer" }}
		<p>This is your {{ .SiteName }} profile home page. Please find useful links below</p>
		<ul>
        <li><a href="/profile/{{ .ProfileID }}/edit">Edit Your Developer Profile</a></li>
        <li><a href="/support">Contact Support</a></li>
        <li><a onclick="logout();">Logout</a></li>
		</ul>
      {{ end }}
      
      {{ if eq .UserType "recruiter" }}
      {{ if isTimeAfterNow .Recruiter.PlanExpiredAt }}
        <p>This is your {{ .SiteName }} profile home page. Please find useful links below</p>
        <ul>
        <li><a href="/profile/{{ .ProfileID }}/edit">Edit Your Info</a></li>
        <li><a href="/{{ .SiteJobCategory }}-Developers">Browse & Message Developers</a></li>
        <li><a href="/ad">Post a Job Post</a></li>
        <li><a onclick="alert('This functionality is not available yet. We are working on it.');">Create Company Page</a></li>
        <li><a href="/support">Contact Support</a></li>
        <li><a onclick="logout();">Logout</a></li>
        </ul>
        {{ end }}
      {{ end }}

		  {{ if eq .UserType "admin" }}
		  <p>This is your {{ .SiteName }} profile home page. Please find useful links below</p>
		  <ul>
          <li><a href="/profile/blog/list">View Your Blog Posts</a></li>
          <li><a href="/profile/blog/create">Create Blog Post</a></li>
		  <li><a href="/manage/list">List Job Posts</a></li>
		  <li><a href="/manage/new">Create Job Post</a></li>
	      <li><a onclick="logout();">Logout</a></li>
          </ul>
		  {{ end }}
              <br>
            </article>
  </section>
		<footer>
			<nav>
				<small>
					<a href="/">{{ .SiteName }}</a> &bull;
					<a href="/support">Support</a> &bull;
					<a href="/terms-of-service">T&Cs</a>
					<br>
				</small>
			</nav>
		</footer>
    <script>
    {{ if (eq .UserType "recruiter") and (isTimeBeforeNow .Recruiter.PlanExpiredAt) }}
    var stripe = Stripe('{{ .StripePublishableKey }}');
	var http = function (url, body, cb) {
		var xhr = new XMLHttpRequest();
		xhr.open('POST', url, true);
		xhr.setRequestHeader('Content-Type', 'application/json');
		xhr.send(JSON.stringify(body));
		xhr.onreadystatechange = function () {
			if (xhr.readyState === 4) {
				cb(xhr.status === 200, xhr.response, xhr.status);
			}
		}
	};
    function post(planDuration) {
		    if (planDuration != 3 && planDuration != 6 && planDuration != 12) {
				alert("Invalid plan duration, please specify 3, 6 or 12 months.");
			}
              var itemPrice = 0;
              if (planDuration == 3) {
                itemPrice = parseInt(document.getElementById("plan-1-item-price").value);
              }
              if (planDuration == 6) {
                itemPrice = parseInt(document.getElementById("plan-2-item-price").value);
              }
              if (planDuration == 12) {
                itemPrice = parseInt(document.getElementById("plan-3-item-price").value);
              }
              var payload = {
                  recruiter_id: '{{ .Recruiter.ID }}',
                  item_price: itemPrice,
                  plan_duration: planDuration,
              };
              document.getElementById("spinner-0").style.display = "block";
              http(
                  '/x/s/d/upsell',
                  payload,
                  function (success, body, statusCode) {
                      if (success) {
                        try {
                            var res = JSON.parse(body);
                            console.log(res);
                            stripe.redirectToCheckout({
                                sessionId: res.s_id
                            }).then(function (result) {
                                document.getElementById("spinner-0").style.display = "none";
                                if (result.error) {
                                    console.log(result.error);
                                    alert('Oops, there was a problem with your payment. Please try again later');
                                }
                            });
                        } catch (err) {
                            document.getElementById("spinner-0").style.display = "none";
                            console.log(err);
                            alert('Oops, there was a problem with your payment. Please try again later');
                        }
                      } else {
                          document.getElementById("spinner-0").style.display = "none";
                          if (statusCode == 400) {
                              alert('There was a problem with your request. ' + body);
                          } else {
                              alert('There was a problem with your request, please try again later.');
                          }
                      }
                  }
              );
		}
    {{ end }}
    function checkPaymentStatus() {
      const urlParams = new URLSearchParams(window.location.search);
      const paymentValue = urlParams.get('payment');
      
      if (paymentValue === '1') {
        alert('Your payment was successful, please allow few minutes for the payment to process. If you still don\' have access reach out to our support email.');
      } else if (paymentValue === '0') {
        alert('We could not process your payment. Please try again. If you have trouble please reach out to our support email.');
      }
    }
    
    window.addEventListener('load', checkPaymentStatus);
      function logout() {
        document.cookie = '____gc=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
        window.location.href='/';
      }
    </script>
</body>
</html>
